{% extends 'tracker/base.html' %}
{% block title %}Login{% endblock %}

{% block content %}
<div class="container mt-5" style="max-width: 400px;">
    <h2 class="mb-4 text-center">Login</h2>
    <form method="post" novalidate>
        {% csrf_token %}
        
        <div class="form-floating mb-3">
            <input type="text" class="form-control" id="username" name="username" placeholder="Username" required>
            <label for="username">Username</label>
            <div class="invalid-feedback">Please enter your username.</div>
        </div>

        <div class="form-floating mb-3">
            <input type="password" class="form-control" id="password" name="password" placeholder="Password" required>
            <label for="password">Password</label>
            <div class="invalid-feedback">Please enter your password.</div>
        </div>

        <button type="submit" class="btn btn-primary w-100">
            🔒 Login
        </button>
    </form>

    <div class="mt-4 p-3 text-center bg-light rounded shadow-sm">
    <p class="mb-1">New to Expense Tracker?</p>
    <a href="{% url 'tracker:signup' %}" class="btn btn-outline-primary btn-sm">
        📝 Create an Account
    </a>
</div>

</div>

<!-- Add client-side validation -->
<script>
    document.querySelector('form').addEventListener('submit', function (e) {
        const username = document.getElementById('username');
        const password = document.getElementById('password');

        if (!username.value.trim()) {
            username.classList.add('is-invalid');
            e.preventDefault();
        } else {
            username.classList.remove('is-invalid');
        }

        if (!password.value.trim()) {
            password.classList.add('is-invalid');
            e.preventDefault();
        } else {
            password.classList.remove('is-invalid');
        }
    });
</script>
{% endblock %}
